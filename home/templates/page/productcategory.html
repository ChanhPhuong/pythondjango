{% extends "page/base.html" %}

{%block content%}
    <section class="bread-crumb">
        <span class="crumb-border"></span>
        <div class="container">
            <div class="row">
                <div class="col-xs-12 a-left">
                    <ul class="breadcrumb">
                        <li class="home">
                            <a itemprop="url" href="/"><span title="Trang chủ">Trang chủ</span></a>
                            <span class="mr_lr">&nbsp;/&nbsp;</span>
                        </li>


                        <li><strong><span> Tất cả sản phẩm</span></strong></li>


                    </ul>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <div class="row">
            <section class="main_container collection col-lg-9 col-md-9 col-sm-12 col-lg-push-3 col-md-push-3">
                <div class="module-category-cl clearfix">
                    <div class="module-category-owl owl-carousel">
                        <div class="item">
                            <a href="phong-ngu" class="block" title="Phòng ngủ">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_1.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Phòng ngủ</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="van-phong" class="block" title="Văn phòng">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_2.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Văn phòng</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="ghe-banh" class="block" title="Ghế bành">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_3.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Ghế bành</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="ke-sach" class="block" title="Kệ sách">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_4.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Kệ sách</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="phong-ngu" class="block" title="Phòng ngủ">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_5.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Phòng ngủ</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="tu-ke" class="block" title="Tủ kệ">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_6.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Tủ kệ</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="khung-tranh-anh" class="block" title="Khung & Tranh ảnh">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_7.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Khung & Tranh ảnh</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="ghe-sofa" class="block" title="Ghế Sofa">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_8.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Ghế Sofa</span>
                                </span>
                            </a>
                        </div>
                        <div class="item">
                            <a href="ke-tivi" class="block" title="Kệ Tivi">

                                <span class="img">
                                    <img class="lazy img-responsive center-block"
                                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                        data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/image_ab_9.png?1677115735837"
                                        alt="" />
                                </span>
                                <span class="title-count">
                                    <span class="title">Kệ Tivi</span>
                                </span>
                            </a>
                        </div>

                    </div>
                </div>
                
                    <h1 class="title_page margin-top-0 margin-bottom-xs-20">{{categorys.name}}</h1>
                
                <div class="category-products products">

                    <div class="sortPagiBar clearfix hidden-xs">
                        <div class="sort-cate-left">
                            <h3>Xếp theo:</h3>
                            <ul>
                                <li class="btn-quick-sort default">
                                    <a href="javascript:;" onclick="sortby('default')" title="Mặc định"><i></i>Mặc
                                        định</a>
                                </li>
                                <li class="btn-quick-sort alpha-asc">
                                    <a href="javascript:;" onclick="sortby('alpha-asc')" title="Tên A-Z"><i></i>Tên
                                        A-Z</a>
                                </li>
                                <li class="btn-quick-sort alpha-desc">
                                    <a href="javascript:;" onclick="sortby('alpha-desc')" title="Tên Z-A"><i></i>Tên
                                        Z-A</a>
                                </li>
                                <li class="btn-quick-sort position-desc">
                                    <a href="javascript:;" onclick="sortby('created-desc')"
                                        title="Hàng mới"><i></i>Hàng mới</a>
                                </li>
                                <li class="btn-quick-sort price-asc">
                                    <a href="javascript:;" onclick="sortby('price-asc')"
                                        title="Giá thấp đến cao"><i></i>Giá thấp đến cao</a>
                                </li>
                                <li class="btn-quick-sort price-desc">
                                    <a href="javascript:;" onclick="sortby('price-desc')"
                                        title="Giá cao xuống thấp"><i></i>Giá cao xuống thấp</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <section class="products-view products-view-grid margin-bottom-50 collection_reponsive">
                            {% for pro in productcategory%}
                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4 product-col">
                                    <div class="item_product_main ">
                                        <div class="product-box product-item-main">
                                            <div class="product-thumbnail">
                                                <a href="{% url 'productdetails' pro.id %}" title="{{pro.name}}">
                                                    <img class="lazy img-responsive center-block"
                                                        src="{{pro.image.url}}"
                                                        data-src="{{pro.image.url}}"
                                                        alt="Sofa thư giãn Rouen" />
                                                </a>
                                                <div class="product-action hidden-md hidden-sm hidden-xs clearfix">
                                                    <form action="/cart/add" method="post"
                                                        class="variants form-nut-grid"
                                                        data-id="product-actions-16429053"
                                                        enctype="multipart/form-data">
                                                        <div class="group_action">

                                                            <input class="hidden" type="hidden" name="variantId"
                                                                value="29288183" />
                                                            <button class="btn-cart btn btn-gray  left-to"
                                                                title="Chọn sản phẩm" type="button"
                                                                onclick="window.location.href='/sofa-thu-gian-rouen'">
                                                                Chọn sản phẩm
                                                            </button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <h3 class="product-name">
                                                <a href="{% url 'productdetails' pro.id %}" title=" {{pro.name}}">
                                                    {{pro.name}}
                                                </a>
                                            </h3>
                                            <div class="product-item-price price-box">
                                                <strong>
                                                    {{pro.price}}
                                                </strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {%endfor%}
                            <div class="text-xs-right xs_padding col-lg-12 col-md-12 col-sm-12 col-xs-12">

                                <nav class="text-center">
                                    <ul class="pagination clearfix">

                                        <li class="page-item disabled"><a class="page-link " href="#">«</a></li>





                                        <li class="active page-item disabled"><a class="page-link"
                                                href="javascript:;">1</a></li>




                                        <li class="page-item"><a class="page-link" onclick="doSearch(2)"
                                                href="javascript:;">2</a></li>




                                        <li class="page-item"><a class="page-link " onclick="doSearch(2)"
                                                href="javascript:;">»</a></li>

                                    </ul>
                                </nav>

                            </div>

                        </section>

                        <script>
                            $('#sortBy').val('default');
                            $('#sortBy').bind('change', function () {
                                var url = window.location.href;
                                url = replaceUrlParam(url, 'sortby', $(this).val());
                                window.location.href = url;
                            });
                            $('.switch-view').bind('click', function () {
                                var url = window.location.href;
                                url = replaceUrlParam(url, 'view', $(this).data('view'));
                                window.location.href = url;
                            });
                            function replaceUrlParam(url, paramName, paramValue) {
                                var pattern = new RegExp('(' + paramName + '=).*?(&|$)'),
                                    newUrl = url.replace(pattern, '$1' + paramValue + '$2');
                                if (newUrl == url) {
                                    newUrl = newUrl + (newUrl.indexOf('?') > 0 ? '&' : '?') + paramName + '=' + paramValue;
                                }
                                return newUrl;
                            }

                        </script>
                    </div>


                </div>
            </section>
            <aside
                class="dqdt-sidebar sidebar left left-content col-xs-12 col-lg-3 col-md-3 col-sm-12  col-lg-pull-9 col-md-pull-9">

                <aside class="aside-item collection-category margin-bottom-25">
                    <div class="title_module_arrow">
                        <h2 class="margin-top-0"><span>Danh mục sản phẩm</span></h2>
                    </div>
                    <div class="aside-content aside-cate-link-cls">
                        <nav class="cate_padding nav-category navbar-toggleable-md">

                            <ul class="nav-ul nav navbar-pills">



                                <li class="nav-item  lv1">
                                    <a class="nav-link" href="/" title="Trang chủ">Trang chủ</a>
                                </li>



                                <li class="nav-item  lv1">
                                    <a class="nav-link" href="/gioi-thieu" title="Giới thiệu">Giới thiệu</a>
                                </li>



                                <li class="nav-item active lv1">
                                    <a href="/collections/all" class="nav-link" title="Sản phẩm">Sản phẩm</a>
                                    <i class="fa fa-caret-down"></i>
                                    <ul class="dropdown-menu" style="display:none;">


                                        <li class="dropdown-submenu nav-item lv2 ">
                                            <a class="nav-link" href="/san-pham-noi-bat"
                                                title="Sản phẩm nổi bật">Sản phẩm nổi bật</a>
                                            <i class="fa fa-caret-down"></i>
                                            <ul class="dropdown-menu">


                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/san-pham-noi-bat"
                                                        title="Sofa">Sofa</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/san-pham-noi-bat"
                                                        title="Đồ dùng trang trí">Đồ dùng trang trí</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/san-pham-noi-bat"
                                                        title="Đèn phòng ngủ">Đèn phòng ngủ</a>
                                                </li>


                                            </ul>
                                        </li>



                                        <li class="nav-item lv2 ">
                                            <a class="nav-link" href="/san-pham-khuyen-mai"
                                                title="Sản phẩm khuyến mãi">Sản phẩm khuyến mãi</a>
                                        </li>



                                        <li class="nav-item lv2 ">
                                            <a class="nav-link" href="/noi-that-van-phong"
                                                title="Nội thất văn phòng">Nội thất văn phòng</a>
                                        </li>



                                        <li class="dropdown-submenu nav-item lv2 ">
                                            <a class="nav-link" href="/noi-that-gia-dinh"
                                                title="Nội thất gia đình">Nội thất gia đình</a>
                                            <i class="fa fa-caret-down"></i>
                                            <ul class="dropdown-menu">


                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/ban-an" title="Bàn ăn">Bàn ăn</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/giuong" title="Giường">Giường</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/ghe" title="Ghế">Ghế</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/tu-ke" title="Tủ kệ">Tủ kệ</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/guong" title="Gương">Gương</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/ke-tivi" title="Kệ Tivi">Kệ Tivi</a>
                                                </li>


                                            </ul>
                                        </li>



                                        <li class="nav-item lv2 ">
                                            <a class="nav-link" href="/phong-bep" title="Phòng bếp">Phòng bếp</a>
                                        </li>



                                        <li class="dropdown-submenu nav-item lv2 ">
                                            <a class="nav-link" href="/do-trang-tri" title="Đồ trang trí">Đồ trang
                                                trí</a>
                                            <i class="fa fa-caret-down"></i>
                                            <ul class="dropdown-menu">


                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/tinh-dau-tui-thom"
                                                        title="Tinh dầu & Túi thơm">Tinh dầu & Túi thơm</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/cay-hoa-gia"
                                                        title="Cây & Hoa giả">Cây & Hoa giả</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/nen-chan" title="Nến & Chân">Nến &
                                                        Chân</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/dong-ho" title="Đồng hồ">Đồng hồ</a>
                                                </li>



                                                <li class="nav-item lv3 ">
                                                    <a class="nav-link" href="/khung-tranh-anh"
                                                        title="Khung & Tranh ảnh">Khung & Tranh ảnh</a>
                                                </li>


                                            </ul>
                                        </li>



                                        <li class="nav-item lv2 ">
                                            <a class="nav-link" href="/sofa" title="Sofa">Sofa</a>
                                        </li>



                                        <li class="nav-item lv2 ">
                                            <a class="nav-link" href="/do-dung-van-phong"
                                                title="Đồ dùng văn phòng">Đồ dùng văn phòng</a>
                                        </li>



                                        <li class="nav-item lv2 ">
                                            <a class="nav-link" href="/dung-cu-nha-bep" title="Dụng cụ nhà bếp">Dụng
                                                cụ nhà bếp</a>
                                        </li>



                                        <li class="nav-item lv2 ">
                                            <a class="nav-link" href="/phong-khach" title="Phòng khách">Phòng
                                                khách</a>
                                        </li>



                                    </ul>
                                </li>



                                <li class="nav-item  lv1">
                                    <a class="nav-link" href="/tin-tuc" title="Tin tức">Tin tức</a>
                                </li>



                                <li class="nav-item  lv1">
                                    <a class="nav-link" href="/lien-he" title="Liên hệ">Liên hệ</a>
                                </li>



                            </ul>
                        </nav>
                    </div>
                </aside>




                <script src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/search_filter.js?1677115735837"
                    type="text/javascript"></script>
                <div class="aside-filter clearfix margin-bottom-25">

                    <div class="aside-title">
                        <h2 class="title-head margin-top-0"><span>Bộ lọc</span></h2>
                    </div>

                    <div class="filter-container">
                        <div class="filter-container__selected-filter" style="display: none;">
                            <div class="filter-container__selected-filter-header clearfix">
                                <span class="filter-container__selected-filter-header-title"><i
                                        class="fa fa-arrow-left hidden-sm-up"></i> Bạn chọn</span>
                                <a href="javascript:void(0)" onclick="clearAllFiltered()"
                                    class="filter-container__clear-all">Bỏ hết <i class="fa fa-angle-right"></i></a>
                            </div>
                            <div class="filter-container__selected-filter-list">
                                <ul></ul>
                            </div>
                        </div>


                        <aside class="aside-item filter-price clearfix">
                            <div class="module-title">
                                <h2 class="title-head margin-top-0"><span>Tìm theo mức giá</span></h2>
                            </div>
                            <div class="aside-content filter-group">
                                <ul>





                                    <li class="filter-item filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-duoi-100-000d">
                                                <input type="checkbox" id="filter-duoi-100-000d"
                                                    onchange="toggleFilter(this);" data-group="Khoảng giá"
                                                    data-field="price_min" data-text="Dưới 100.000đ"
                                                    value="(<100000)" data-operator="OR">
                                                <i class="fa"></i>
                                                Giá dưới 100.000đ
                                            </label>
                                        </span>
                                    </li>






                                    <li class="filter-item filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-100-000d-200-000d">
                                                <input type="checkbox" id="filter-100-000d-200-000d"
                                                    onchange="toggleFilter(this)" data-group="Khoảng giá"
                                                    data-field="price_min" data-text="100.000đ - 200.000đ"
                                                    value="(>=100000 AND <=200000)" data-operator="OR">
                                                <i class="fa"></i>
                                                100.000đ - 200.000đ
                                            </label>
                                        </span>
                                    </li>






                                    <li class="filter-item filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-200-000d-300-000d">
                                                <input type="checkbox" id="filter-200-000d-300-000d"
                                                    onchange="toggleFilter(this)" data-group="Khoảng giá"
                                                    data-field="price_min" data-text="200.000đ - 300.000đ"
                                                    value="(>=200000 AND <=300000)" data-operator="OR">
                                                <i class="fa"></i>
                                                200.000đ - 300.000đ
                                            </label>
                                        </span>
                                    </li>






                                    <li class="filter-item filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-300-000d-500-000d">
                                                <input type="checkbox" id="filter-300-000d-500-000d"
                                                    onchange="toggleFilter(this)" data-group="Khoảng giá"
                                                    data-field="price_min" data-text="300.000đ - 500.000đ"
                                                    value="(>=300000 AND <=500000)" data-operator="OR">
                                                <i class="fa"></i>
                                                300.000đ - 500.000đ
                                            </label>
                                        </span>
                                    </li>






                                    <li class="filter-item filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-500-000d-1-000-000d">
                                                <input type="checkbox" id="filter-500-000d-1-000-000d"
                                                    onchange="toggleFilter(this)" data-group="Khoảng giá"
                                                    data-field="price_min" data-text="500.000đ - 1.000.000đ"
                                                    value="(>500000 AND <1000000)" data-operator="OR">
                                                <i class="fa"></i>
                                                500.000đ - 1.000.000đ
                                            </label>
                                        </span>
                                    </li>
                                    <li class="filter-item filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-tren1-000-000d">
                                                <input type="checkbox" id="filter-tren1-000-000d"
                                                    onchange="toggleFilter(this)" data-group="Khoảng giá"
                                                    data-field="price_min" data-text="Trên 1.000.000đ"
                                                    value="(>1000000)" data-operator="OR">
                                                <i class="fa"></i>
                                                Giá trên 1.000.000đ
                                            </label>
                                        </span>
                                    </li>



                                </ul>
                            </div>
                        </aside>
                        <aside class="aside-item filter-tag-style-1 clearfix">
                            <div class="module-title">
                                <h2 class="title-head margin-top-0"><span>Màu sắc </span></h2>
                            </div>
                            <div class="aside-content filter-group clearfix">
                                <ul style="overflow: visible;">
                                    <li class="filter-item color filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-den">
                                                <input type="checkbox" id="filter-den" onchange="toggleFilter(this)"
                                                    data-group="tag1" data-field="tags" data-text="Đen"
                                                    value="(Đen)" data-operator="OR">
                                                <i class="fa den" style="background-color:#000;"></i>
                                                Đen
                                            </label>
                                        </span>
                                    </li>
                                    <li class="filter-item color filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-do">
                                                <input type="checkbox" id="filter-do" onchange="toggleFilter(this)"
                                                    data-group="tag1" data-field="tags" data-text="Đỏ" value="(Đỏ)"
                                                    data-operator="OR">
                                                <i class="fa do" style="background-color:#FF0000;"></i>
                                                Đỏ
                                            </label>
                                        </span>
                                    </li>

                                    <li class="filter-item color filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-trang">
                                                <input type="checkbox" id="filter-trang"
                                                    onchange="toggleFilter(this)" data-group="tag1"
                                                    data-field="tags" data-text="Trắng" value="(Trắng)"
                                                    data-operator="OR">
                                                <i class="fa trang"
                                                    style="background-color:#fff;border:1px solid #ebebeb;"></i>
                                                Trắng
                                            </label>
                                        </span>
                                    </li>
                                    <li class="filter-item color filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-da-cam">
                                                <input type="checkbox" id="filter-da-cam"
                                                    onchange="toggleFilter(this)" data-group="tag1"
                                                    data-field="tags" data-text="Da Cam" value="(Da Cam)"
                                                    data-operator="OR">
                                                <i class="fa da-cam" style="background-color:#FF4000;"></i>
                                                Da Cam
                                            </label>
                                        </span>
                                    </li>
                                    <li class="filter-item color filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-hong">
                                                <input type="checkbox" id="filter-hong"
                                                    onchange="toggleFilter(this)" data-group="tag1"
                                                    data-field="tags" data-text="Hồng" value="(Hồng)"
                                                    data-operator="OR">
                                                <i class="fa hong" style="background-color:#FA58AC;"></i>
                                                Hồng
                                            </label>
                                        </span>
                                    </li>
                                    <li class="filter-item color filter-item--check-box filter-item--green">
                                        <span>
                                            <label for="filter-vang">
                                                <input type="checkbox" id="filter-vang"
                                                    onchange="toggleFilter(this)" data-group="tag1"
                                                    data-field="tags" data-text="Vàng" value="(Vàng)"
                                                    data-operator="OR">
                                                <i class="fa vang" style="background-color:#F4FA58;"></i>
                                                Vàng
                                            </label>
                                        </span>
                                    </li>

                                </ul>
                            </div>
                        </aside>
                    </div>

                </div>
                <script>
                    var selectedSortby;
                    var tt = 'Thứ tự';
                    var selectedViewData = "data";
                    var filter = new Bizweb.SearchFilter()

                    function toggleFilter(e) {
                        _toggleFilter(e);
                        renderFilterdItems();
                        doSearch(1);
                    }
                    function _toggleFilterdqdt(e) {
                        var $element = $(e);
                        var group = 'Khoảng giá';
                        var field = 'price_min';
                        var operator = 'OR';
                        var value = $element.attr("data-value");
                        filter.deleteValuedqdt(group, field, value, operator);
                        filter.addValue(group, field, value, operator);
                        renderFilterdItems();
                        doSearch(1);
                    }
                    function _toggleFilter(e) {
                        var $element = $(e);
                        var group = $element.attr("data-group");
                        var field = $element.attr("data-field");
                        var text = $element.attr("data-text");
                        var value = $element.attr("value");
                        var operator = $element.attr("data-operator");
                        var filterItemId = $element.attr("id");

                        if (!$element.is(':checked')) {
                            filter.deleteValue(group, field, value, operator);
                        }
                        else {
                            filter.addValue(group, field, value, operator);
                        }

                        $(".catalog_filters li[data-handle='" + filterItemId + "']").toggleClass("active");
                    }
                    function renderFilterdItems() {
                        var $container = $(".filter-container__selected-filter-list ul");
                        $container.html("");

                        $(".filter-container input[type=checkbox]").each(function (index) {
                            if ($(this).is(':checked')) {
                                var id = $(this).attr("id");
                                var name = $(this).closest("label").text();
                                addFilteredItem(name, id);
                            }
                        });

                        if ($(".aside-content input[type=checkbox]:checked").length > 0)
                            $(".filter-container__selected-filter").show();
                        else
                            $(".filter-container__selected-filter").hide();
                    }
                    function addFilteredItem(name, id) {
                        var filteredItemTemplate = "<li class='filter-container__selected-filter-item' for='{3}'><a href='javascript:void(0)' onclick=\"{0}\"><i class='fa fa-close'></i> {1}</a></li>";
                        filteredItemTemplate = filteredItemTemplate.replace("{0}", "removeFilteredItem('" + id + "')");
                        filteredItemTemplate = filteredItemTemplate.replace("{1}", name);
                        filteredItemTemplate = filteredItemTemplate.replace("{3}", id);
                        var $container = $(".filter-container__selected-filter-list ul");
                        $container.append(filteredItemTemplate);
                    }
                    function removeFilteredItem(id) {
                        $(".filter-container #" + id).trigger("click");
                    }
                    function filterItemInList(object) {
                        q = object.val().toLowerCase();
                        object.parent().next().find('li').show();
                        if (q.length > 0) {
                            object.parent().next().find('li').each(function () {
                                if ($(this).find('label').attr("data-filter").indexOf(q) == -1)
                                    $(this).hide();
                            })
                        }
                    }

                    function clearAllFiltered() {
                        filter = new Bizweb.SearchFilter();


                        $(".filter-container__selected-filter-list ul").html("");
                        $(".filter-container input[type=checkbox]").attr('checked', false);
                        $(".filter-container__selected-filter").hide();

                        doSearch(1);
                    }
                    function doSearch(page, options) {
                        if (!options) options = {};
                        //NProgress.start();
                        $('.aside.aside-mini-products-list.filter').removeClass('active');
                        awe_showPopup('.loading');
                        filter.search({
                            view: selectedViewData,
                            page: page,
                            sortby: selectedSortby,
                            success: function (html) {
                                var $html = $(html);
                                // Muốn thay thẻ DIV nào khi filter thì viết như này
                                var $categoryProducts = $($html[0]);
                                $(".category-products").html($categoryProducts.html());
                                pushCurrentFilterState({ sortby: selectedSortby, page: page });
                                awe_hidePopup('.loading');
                                awe_lazyloadImage();
                                $('.add_to_cart').click(function (e) {
                                    e.preventDefault();
                                    var $this = $(this);
                                    var form = $this.parents('form');
                                    $.ajax({
                                        type: 'POST',
                                        url: '/cart/add.js',
                                        async: false,
                                        data: form.serialize(),
                                        dataType: 'json',
                                        error: addToCartFail,
                                        beforeSend: function () {
                                            if (window.theme_load == "icon") {
                                                awe_showLoading('.btn-addToCart');
                                            } else {
                                                awe_showPopup('.loading');
                                            }
                                        },
                                        success: addToCartSuccess,
                                        cache: false
                                    });
                                });
                                $('html, body').animate({
                                    scrollTop: $('.category-products').offset().top
                                }, 0);
                                resortby(selectedSortby);
                                if (window.BPR !== undefined) {
                                    return window.BPR.initDomEls(), window.BPR.loadBadges();
                                }
                            }
                        });
                    }
                    function sortby(sort) {
                        switch (sort) {
                            case "price-asc":
                                selectedSortby = "price_min:asc";
                                break;
                            case "price-desc":
                                selectedSortby = "price_min:desc";
                                break;
                            case "alpha-asc":
                                selectedSortby = "name:asc";
                                break;
                            case "alpha-desc":
                                selectedSortby = "name:desc";
                                break;
                            case "created-desc":
                                selectedSortby = "created_on:desc";
                                break;
                            case "created-asc":
                                selectedSortby = "created_on:asc";
                                break;
                            default:
                                selectedSortby = "";
                                break;
                        }

                        doSearch(1);
                    }
                    function resortby(sort) {
                        switch (sort) {
                            case "price_min:asc":
                                tt = "Giá tăng dần";
                                $('.sort-cate-left .price-asc').addClass("active");
                                break;
                            case "price_min:desc":
                                tt = "Giá giảm dần";
                                $('.sort-cate-left .price-desc').addClass("active");
                                break;
                            case "name:asc":
                                tt = "A → Z";
                                $('.sort-cate-left .alpha-asc').addClass("active");
                                break;
                            case "name:desc":
                                tt = "Z → A";
                                $('.sort-cate-left .alpha-desc').addClass("active");
                                break;
                            case "created_on:desc":
                                tt = "Hàng mới nhất";
                                $('.sort-cate-left .position-desc').addClass("active");
                                break;
                            case "created_on:asc":
                                tt = "Hàng cũ nhất";
                                break;
                            default:
                                tt = "Mặc định";
                                $('.sort-cate-left .default').addClass("active");
                                break;
                        }
                        $('#sort-by > ul > li > span').html(tt);
                    }
                    function _selectSortby(sort) {
                        resortby(sort);
                        switch (sort) {
                            case "price-asc":
                                selectedSortby = "price_min:asc";
                                break;
                            case "price-desc":
                                selectedSortby = "price_min:desc";
                                break;
                            case "alpha-asc":
                                selectedSortby = "name:asc";
                                break;
                            case "alpha-desc":
                                selectedSortby = "name:desc";
                                break;
                            case "created-desc":
                                selectedSortby = "created_on:desc";
                                break;
                            case "created-asc":
                                selectedSortby = "created_on:asc";
                                break;
                            default:
                                selectedSortby = sort;
                                break;
                        }
                    }
                    function toggleCheckbox(id) {
                        $(id).click();
                    }
                    function pushCurrentFilterState(options) {
                        if (!options) options = {};
                        var url = filter.buildSearchUrl(options);
                        var queryString = url.slice(url.indexOf('?'));
                        if (selectedViewData == 'data_list') {
                            queryString = queryString + '&view=list';
                        }
                        else {
                            queryString = queryString + '&view=grid';
                        }
                        pushState(queryString);
                    }
                    function pushState(url) {
                        window.history.pushState({
                            turbolinks: true,
                            url: url
                        }, null, url)
                    }
                    function switchView(view) {
                        switch (view) {
                            case "list":
                                selectedViewData = "data_list";
                                break;
                            default:
                                selectedViewData = "data";
                                break;
                        }
                        var url = window.location.href;
                        var page = getParameter(url, "page");
                        if (page != '' && page != null) {
                            doSearch(page);
                        } else {
                            doSearch(1);
                        }
                    }
                    function selectFilterByCurrentQuery() {
                        awe_lazyloadImage();
                        var isFilter = false;
                        var url = window.location.href;
                        var queryString = decodeURI(window.location.search);
                        var filters = queryString.match(/\(.*?\)/g);
                        var page = 0;
                        if (queryString) {
                            isFilter = true;
                            $.urlParam = function (name) {
                                var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
                                return results[1] || 0;
                            }
                            page = $.urlParam('page');
                        }
                        if (filters && filters.length > 0) {
                            filters.forEach(function (item) {
                                item = item.replace(/\(\(/g, "(");
                                var element = $(".aside-content input[value='" + item + "']");
                                element.attr("checked", "checked");
                                _toggleFilter(element);
                            });

                            isFilter = true;
                        }
                        var sortOrder = getParameter(url, "sortby");
                        if (sortOrder) {
                            _selectSortby(sortOrder);
                        }
                        if (isFilter) {
                            doSearch(page);
                            renderFilterdItems();
                        }
                    }
                    function getParameter(url, name) {
                        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                            results = regex.exec(url);
                        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
                    }

                    $(document).ready(function () {
                        $(window).on('popstate', function () {
                            location.reload(true);
                        });
                        selectFilterByCurrentQuery();
                        $('.filter-group .filter-group-title').click(function (e) {
                            $(this).parent().toggleClass('active');
                        });

                        $('.filter-mobile').click(function (e) {
                            $('.aside.aside-mini-products-list.filter').toggleClass('active');
                        });

                        $('#show-admin-bar').click(function (e) {
                            $('.aside.aside-mini-products-list.filter').toggleClass('active');
                        });

                        $('.filter-container__selected-filter-header-title').click(function (e) {
                            $('.aside.aside-mini-products-list.filter').toggleClass('active');
                        });
                    });
                </script>






                <aside class="aside-item box-banner clearfix margin-bottom-25">

                    <div class="aside-content">
                        <a href="#" title="ND Nội Thất">
                            <img class="lazy img-responsive center-block"
                                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                                data-src="//bizweb.dktcdn.net/100/369/704/themes/741072/assets/aside_banner.png?1677115735837"
                                alt="ND Nội Thất" />
                        </a>
                    </div>
                </aside>

            </aside>
            <div id="open-filters" class="open-filters hidden-lg hidden-md">
                <span class="fter">
                    <i class="fas fa-filter"></i>
                    <span>Lọc</span>
                </span>
            </div>
        </div>
    </div>


{%endblock%}